# ============================================
# APPLICATION
# ============================================
APP_NAME=CareFusion AI Backend
DEBUG=True

# ============================================
# DATABASE 1: AUTH DATABASE (Credentials Only)
# ============================================
AUTH_MONGODB_URL=mongodb://localhost:27017
AUTH_DB_NAME=carefusion_auth_db

# ============================================
# DATABASE 2: USER DATA DATABASE (Medical Data Metadata)
# ============================================
USERDATA_MONGODB_URL=mongodb://localhost:27017
USERDATA_DB_NAME=carefusion_userdata_db

# ============================================
# REDIS (Access Code Management)
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_DB=0
ACCESS_CODE_EXPIRY_SECONDS=120

# ============================================
# FILESYSTEM (Source of Truth for Medical Data)
# ============================================
USER_DATA_ROOT=C:/CareFusion-AI/data/users

# ============================================
# AI MODULES (External Pipeline Paths)
# ============================================
# Default AI Environment (for Modules 1, 2, 4)
AI_VENV_PATH=C:/CareFusion-AI/carefusionEV
AI_PYTHON_EXECUTABLE=C:/CareFusion-AI/carefusionEV/Scripts/python.exe

# Module 1: Symptom Reasoning (Audio/Text to Diagnosis)
MODULE1_SCRIPT_PATH=C:/CareFusion-AI/Reasoning_Sys/pipeline/Execution.py
MODULE1_FUNCTION=pipeline
MODULE1_PYTHON_EXECUTABLE=C:/CareFusion-AI/carefusionEV/Scripts/python.exe

# Module 2: Image Analysis (Medical Image Classification + Grad-CAM)
MODULE2_SCRIPT_PATH=C:/CareFusion-AI/Tuberculosis_Image_Classification/pipeline/run_module2.py
MODULE2_CHECKPOINT=C:/CareFusion-AI/Tuberculosis_Image_Classification/experiments/runscam/classifier_retrain/best_combined.pth

# Module 3: DNA Analysis (VCF to Pathogenic Variants)
# IMPORTANT: Module 3 uses a SEPARATE conda environment for genomics
MODULE3_SCRIPT_PATH=C:/CareFusion-AI/dna_disease_identifier/run_module3.py
MODULE3_FUNCTION=dna_Analysis
MODULE3_CLINVAR_DB=C:/CareFusion-AI/dna_disease_identifier/data/clinvar/clinvar_db.json
MODULE3_PYTHON_EXECUTABLE=C:/Users/athun/miniconda3/envs/carefusion_genomics/python.exe

# Module 4: Temporal/Relational Analysis (Historical Data Analysis)
MODULE4_SCRIPT_PATH=C:/CareFusion-AI/temporal_reasoning/temporal_analysis.py
MODULE4_FUNCTION=temporal_analysis
MODULE4_PYTHON_EXECUTABLE=C:/CareFusion-AI/carefusionEV/Scripts/python.exe

# General AI Chat (MedGemma 1.5 4B)
MODULE_CHAT_SCRIPT_PATH=C:/CareFusion-AI/Reasoning_Sys/pipeline/General_Chat.py
MODULE_CHAT_PYTHON_EXECUTABLE=C:/CareFusion-AI/carefusionEV/Scripts/python.exe

# ============================================
# SECURITY
# ============================================
SECRET_KEY=9e38d0cf06797f73336963e2b584edbfdcda80dd79e2fa1f08933ddda9d2fe5a
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Access Code Generation
ACCESS_CODE_LENGTH=9
ACCESS_CODE_CHARS=ABCDEFGHJKLMNPQRSTUVWXYZ23456789

# ============================================
# CORS
# ============================================
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:5173","http://localhost:8000"]

# ============================================
# AI/ML SERVICES (Optional External APIs)
# ============================================
# OPENAI_API_KEY=your-openai-api-key-here
# GEMINI_API_KEY=your-gemini-api-key-here

# OLLAMA (Local LLM - RECOMMENDED)
# ============================================
# Ollama runs locally and doesn't require API keys
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
USE_OLLAMA=True

# ============================================
# FILE UPLOAD LIMITS
# ============================================
MAX_UPLOAD_SIZE=9242880000
MAX_AUDIO_SIZE=9097152000
MAX_VCF_SIZE=90485760000

ALLOWED_IMAGE_TYPES=["image/jpeg","image/png","image/jpg","image/dicom"]
ALLOWED_AUDIO_TYPES=["audio/wav","audio/mp3","audio/mpeg","audio/webm"]
ALLOWED_DNA_TYPES=["text/plain","application/octet-stream","text/vcf"]
ALLOWED_DOCUMENT_TYPES=["application/pdf","image/jpeg","image/png"]

# ============================================
# DOCUMENT ENCRYPTION (Admin Verification System)
# ============================================
# Master encryption key for AES-256-GCM document encryption
# ⚠️  KEEP THIS SECRET - Never commit to public repos!
DOCUMENT_ENCRYPTION_KEY=vK8mN2pQ5tR9wX3zA6cF1gH4jL7nP0sV2yB5eM8qT1uW4xZ7aC0dF3gJ6kN9pS2v

# Local encrypted document storage path
ENCRYPTED_DOCUMENTS_PATH=C:/CareFusion-AI/data/encrypted_documents

# ============================================
# ADMIN SYSTEM
# ============================================
# Admin JWT secret (separate from user auth)
ADMIN_JWT_SECRET=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2
ADMIN_SESSION_TIMEOUT=1800
ADMIN_2FA_ENABLED=False

# ============================================
# EMAIL (Activation Links & Notifications)
# ============================================
# For Gmail, use App Password: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here
FROM_EMAIL=noreply@carefusion.ai
ACTIVATION_LINK_EXPIRY_HOURS=24

# ============================================
# VERIFICATION SETTINGS
# ============================================
MAX_DOCUMENT_SIZE_MB=5
RISK_SCORE_HIGH_THRESHOLD=60
RISK_SCORE_MEDIUM_THRESHOLD=30
AUTO_REJECT_EXPIRED_IDS=True
REQUIRE_NMC_VERIFICATION=True
